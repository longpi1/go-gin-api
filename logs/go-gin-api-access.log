{"level":"error","time":"2022-04-04 16:14:17","caller":"core/core.go:371","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 223 [running]:\nruntime/debug.Stack(0x1458d2a4, 0x116a240, 0x32d6150)\n\tD:/codesoftware/go16/src/runtime/debug/stack.go:24 +0x83\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0x1bb953c, 0x14406790, 0x1468a240, 0x145dbe78, 0x1446c510, 0x74a4f0e0, 0xc08ac816, 0x3d3a0a4d, 0x915, 0x147c62c0)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:370 +0x1aff\npanic(0x116a240, 0x32d6150)\n\tD:/codesoftware/go16/src/runtime/panic.go:965 +0x153\ngithub.com/xinliangnote/go-gin-api/internal/services/admin.(*service).Detail(0x1486fe50, 0x1bb953c, 0x14ad91c8, 0x14652960, 0x0, 0xe, 0x124dfc7)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/services/admin/service_detail.go:47 +0x18a\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1(0x1bb953c, 0x14ad91c8)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/api/admin/func_login.go:56 +0x2c8\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212 +0x95\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523 +0x1a8\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x1451c0d0, 0x1446c510)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x200\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x1451c0d0, 0x1bacdf4, 0x145d6280, 0x145d2380)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x146\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0x14850768, 0x1bacdf4, 0x145d6280, 0x145d2380)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232 +0x3b\nnet/http.serverHandler.ServeHTTP(0x146a3ef0, 0x1bacdf4, 0x145d6280, 0x145d2380)\n\tD:/codesoftware/go16/src/net/http/server.go:2887 +0x7f\nnet/http.(*conn).serve(0x148160c0, 0x1bae3ac, 0x15e09840)\n\tD:/codesoftware/go16/src/net/http/server.go:1952 +0x7d5\ncreated by net/http.(*Server).Serve\n\tD:/codesoftware/go16/src/net/http/server.go:3013 +0x303\n"}
{"level":"error","time":"2022-04-04 16:14:17","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-04-04 16:14:17","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.001571,"trace_id":"8b3aa0c91484400a267d","trace_info":{"trace_id":"8b3aa0c91484400a267d","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin hA2IqgPgpkbLxcKY6/HptxbzAL5ixXw69Ed2ZRy75bs=","Authorization-Date":"2022-04-04 16:14:17","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8b3aa0c91484400a267d"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.001571},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.001571}}
{"level":"error","time":"2022-04-04 16:14:25","caller":"core/core.go:371","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 223 [running]:\nruntime/debug.Stack(0x15d632a4, 0x116a240, 0x32d6150)\n\tD:/codesoftware/go16/src/runtime/debug/stack.go:24 +0x83\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0x1bb953c, 0x14ad91c8, 0x1468a240, 0x145dbe78, 0x1446c510, 0x4e660130, 0xc08ac818, 0xf3d16a9d, 0x916, 0x147c62c0)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:370 +0x1aff\npanic(0x116a240, 0x32d6150)\n\tD:/codesoftware/go16/src/runtime/panic.go:965 +0x153\ngithub.com/xinliangnote/go-gin-api/internal/services/admin.(*service).Detail(0x1486fe50, 0x1bb953c, 0x14406778, 0x14652c90, 0x0, 0xe, 0x124dfc7)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/services/admin/service_detail.go:47 +0x18a\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1(0x1bb953c, 0x14406778)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/api/admin/func_login.go:56 +0x2c8\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212 +0x95\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523 +0x1a8\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0x1446c510)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x1451c0d0, 0x1446c510)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x200\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x1451c0d0, 0x1bacdf4, 0x145d6500, 0x145d2400)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x146\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0x14850768, 0x1bacdf4, 0x145d6500, 0x145d2400)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232 +0x3b\nnet/http.serverHandler.ServeHTTP(0x146a3ef0, 0x1bacdf4, 0x145d6500, 0x145d2400)\n\tD:/codesoftware/go16/src/net/http/server.go:2887 +0x7f\nnet/http.(*conn).serve(0x148160c0, 0x1bae3ac, 0x15e09840)\n\tD:/codesoftware/go16/src/net/http/server.go:1952 +0x7d5\ncreated by net/http.(*Server).Serve\n\tD:/codesoftware/go16/src/net/http/server.go:3013 +0x303\n"}
{"level":"error","time":"2022-04-04 16:14:25","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-04-04 16:14:25","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.000432,"trace_id":"be5254b79c2849e0490c","trace_info":{"trace_id":"be5254b79c2849e0490c","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin gvfLL0iauZML7MYOh18NjsbncihT3jJGUql8BnJ/9iw=","Authorization-Date":"2022-04-04 16:14:25","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["be5254b79c2849e0490c"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.000432},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.000432}}
{"level":"error","time":"2022-04-04 16:15:28","caller":"core/core.go:371","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 223 [running]:\nruntime/debug.Stack(0x15dcb2a4, 0x116a240, 0x32d6150)\n\tD:/codesoftware/go16/src/runtime/debug/stack.go:24 +0x83\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0x1bb953c, 0x14406790, 0x1468a240, 0x145dbe78, 0x15d76240, 0x1b0d4b64, 0xc08ac828, 0xab906ad1, 0x925, 0x147c62c0)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:370 +0x1aff\npanic(0x116a240, 0x32d6150)\n\tD:/codesoftware/go16/src/runtime/panic.go:965 +0x153\ngithub.com/xinliangnote/go-gin-api/internal/services/admin.(*service).Detail(0x1486fe50, 0x1bb953c, 0x15c82098, 0x14afa150, 0x0, 0x0, 0x0)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/services/admin/service_detail.go:47 +0x18a\ngithub.com/xinliangnote/go-gin-api/internal/api/admin.(*handler).Login.func1(0x1bb953c, 0x15c82098)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/api/admin/func_login.go:56 +0x2c8\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0x15d76240)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212 +0x95\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0x15d76240)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541 +0xe1\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0x15d76240)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523 +0x1a8\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0x15d76240)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327 +0x5c\ngithub.com/gin-gonic/gin.(*Context).Next(...)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x1451c0d0, 0x15d76240)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489 +0x200\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x1451c0d0, 0x1bacdf4, 0x147b8140, 0x14710100)\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445 +0x146\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0x14850768, 0x1bacdf4, 0x147b8140, 0x14710100)\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232 +0x3b\nnet/http.serverHandler.ServeHTTP(0x146a3ef0, 0x1bacdf4, 0x147b8140, 0x14710100)\n\tD:/codesoftware/go16/src/net/http/server.go:2887 +0x7f\nnet/http.(*conn).serve(0x148160c0, 0x1bae3ac, 0x15e09840)\n\tD:/codesoftware/go16/src/net/http/server.go:1952 +0x7d5\ncreated by net/http.(*Server).Serve\n\tD:/codesoftware/go16/src/net/http/server.go:3013 +0x303\n"}
{"level":"error","time":"2022-04-04 16:15:28","caller":"alert/alert.go:21","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2022-04-04 16:15:28","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.0004126,"trace_id":"1269657db56f62f3fdae","trace_info":{"trace_id":"1269657db56f62f3fdae","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin u2/fcOdR/0C1xZ/UCoYmkOeV80PIUsQTzDKLpeHpGeg=","Authorization-Date":"2022-04-04 16:15:28","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1269657db56f62f3fdae"],"Vary":["Origin"]},"body":null,"business_code":10101,"business_code_msg":"内部服务器错误","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.0004126},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0004126}}
{"level":"info","time":"2022-04-04 16:17:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/login","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0112352,"trace_id":"a7c4b289383990342de3","trace_info":{"trace_id":"a7c4b289383990342de3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/login","header":{"Authorization":"admin ATa3YF1UgiE54kArmnUdPSFC2uWv6o94tYrMAqKGM9U=","Authorization-Date":"2022-04-04 16:17:42","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":""},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a7c4b289383990342de3"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0112352},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:17:42","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000685},{"timestamp":"2022-04-04 16:17:42","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0008407},{"timestamp":"2022-04-04 16:17:42","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0013369},{"timestamp":"2022-04-04 16:17:42","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 1 ORDER BY id DESC ","rows_affected":25,"cost_seconds":0.0007271},{"timestamp":"2022-04-04 16:17:42","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/menu_action/gen_menu_action.go:108","sql":"SELECT * FROM `menu_action` WHERE is_deleted = -1 AND menu_id IN (25,24,23,22,2,3,1,5,6,4,8,9,7,11,12,10,14,15,13,17,18,19,20,21,16) ","rows_affected":48,"cost_seconds":0.0016615}],"redis":[{"timestamp":"2022-04-04 16:17:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","value":"{\"user_id\":1,\"user_name\":\"admin\"}","ttl":1440,"cost_seconds":0.0000279},{"timestamp":"2022-04-04 16:17:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","value":"[{\"id\":1,\"pid\":0,\"name\":\"配置信息\",\"link\":\"\",\"icon\":\"mdi-settings-box\"},{\"id\":4,\"pid\":0,\"name\":\"代码生成器\",\"link\":\"\",\"icon\":\"mdi-code-not-equal-variant\"},{\"id\":7,\"pid\":0,\"name\":\"授权调用方\",\"link\":\"\",\"icon\":\"mdi-playlist-check\"},{\"id\":23,\"pid\":0,\"name\":\"后台任务\",\"link\":\"\",\"icon\":\"mdi-av-timer\"},{\"id\":10,\"pid\":0,\"name\":\"系统管理员\",\"link\":\"\",\"icon\":\"mdi-account\"},{\"id\":13,\"pid\":0,\"name\":\"查询小助手\",\"link\":\"\",\"icon\":\"mdi-database-search\"},{\"id\":16,\"pid\":0,\"name\":\"实用工具箱\",\"link\":\"\",\"icon\":\"mdi-tools\"},{\"id\":2,\"pid\":1,\"name\":\"告警邮箱\",\"link\":\"/config/email\",\"icon\":\"\"},{\"id\":3,\"pid\":1,\"name\":\"错误码\",\"link\":\"/config/code\",\"icon\":\"\"},{\"id\":5,\"pid\":4,\"name\":\"生成数据表 CURD\",\"link\":\"/generator/gorm\",\"icon\":\"\"},{\"id\":6,\"pid\":4,\"name\":\"生成控制器方法\",\"link\":\"/generator/handler\",\"icon\":\"\"},{\"id\":8,\"pid\":7,\"name\":\"调用方\",\"link\":\"/authorized/list\",\"icon\":\"\"},{\"id\":9,\"pid\":7,\"name\":\"使用说明\",\"link\":\"/authorized/demo\",\"icon\":\"\"},{\"id\":24,\"pid\":23,\"name\":\"任务列表\",\"link\":\"/cron/list\",\"icon\":\"\"},{\"id\":11,\"pid\":10,\"name\":\"管理员\",\"link\":\"/admin/list\",\"icon\":\"\"},{\"id\":12,\"pid\":10,\"name\":\"菜单管理\",\"link\":\"/admin/menu\",\"icon\":\"\"},{\"id\":14,\"pid\":13,\"name\":\"查询缓存\",\"link\":\"/tool/cache\",\"icon\":\"\"},{\"id\":15,\"pid\":13,\"name\":\"查询数据\",\"link\":\"/tool/data\",\"icon\":\"\"},{\"id\":22,\"pid\":16,\"name\":\"服务升级\",\"link\":\"/upgrade\",\"icon\":\"\"},{\"id\":17,\"pid\":16,\"name\":\"Hashids\",\"link\":\"/tool/hashids\",\"icon\":\"\"},{\"id\":18,\"pid\":16,\"name\":\"调用日志\",\"link\":\"/tool/logs\",\"icon\":\"\"},{\"id\":19,\"pid\":16,\"name\":\"接口文档\",\"link\":\"/swagger/index.html\",\"icon\":\"\"},{\"id\":20,\"pid\":16,\"name\":\"GraphQL\",\"link\":\"/graphql\",\"icon\":\"\"},{\"id\":21,\"pid\":16,\"name\":\"接口指标\",\"link\":\"/metrics\",\"icon\":\"\"},{\"id\":25,\"pid\":16,\"name\":\"WebSocket\",\"link\":\"/tool/websocket\",\"icon\":\"\"}]","ttl":1440,"cost_seconds":0.0005042},{"timestamp":"2022-04-04 16:17:42","handle":"set","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","value":"[{\"Id\":1,\"MenuId\":17,\"Method\":\"GET\",\"Api\":\"/api/tool/hashids/**\"},{\"Id\":2,\"MenuId\":14,\"Method\":\"POST\",\"Api\":\"/api/tool/cache/search\"},{\"Id\":3,\"MenuId\":14,\"Method\":\"PATCH\",\"Api\":\"/api/tool/cache/clear\"},{\"Id\":4,\"MenuId\":15,\"Method\":\"GET\",\"Api\":\"/api/tool/data/dbs\"},{\"Id\":5,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/mysql\"},{\"Id\":6,\"MenuId\":15,\"Method\":\"POST\",\"Api\":\"/api/tool/data/tables\"},{\"Id\":7,\"MenuId\":2,\"Method\":\"PATCH\",\"Api\":\"/api/config/email\"},{\"Id\":8,\"MenuId\":5,\"Method\":\"POST\",\"Api\":\"/generator/gorm/execute\"},{\"Id\":9,\"MenuId\":6,\"Method\":\"POST\",\"Api\":\"/generator/handler/execute\"},{\"Id\":10,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/add\"},{\"Id\":11,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/authorized/api/*\"},{\"Id\":12,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized\"},{\"Id\":13,\"MenuId\":8,\"Method\":\"PATCH\",\"Api\":\"/api/authorized/used\"},{\"Id\":14,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized/*\"},{\"Id\":15,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized\"},{\"Id\":16,\"MenuId\":8,\"Method\":\"GET\",\"Api\":\"/api/authorized_api\"},{\"Id\":17,\"MenuId\":8,\"Method\":\"POST\",\"Api\":\"/api/authorized_api\"},{\"Id\":18,\"MenuId\":8,\"Method\":\"DELETE\",\"Api\":\"/api/authorized_api/*\"},{\"Id\":19,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/add\"},{\"Id\":20,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin\"},{\"Id\":21,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin\"},{\"Id\":22,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/used\"},{\"Id\":23,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/reset_password/*\"},{\"Id\":24,\"MenuId\":11,\"Method\":\"DELETE\",\"Api\":\"/api/admin/*\"},{\"Id\":25,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/admin/action/*\"},{\"Id\":26,\"MenuId\":11,\"Method\":\"GET\",\"Api\":\"/api/admin/menu/*\"},{\"Id\":27,\"MenuId\":11,\"Method\":\"POST\",\"Api\":\"/api/admin/menu\"},{\"Id\":28,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/admin/menu_action/*\"},{\"Id\":29,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu\"},{\"Id\":30,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu/*\"},{\"Id\":31,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu/*\"},{\"Id\":32,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/used\"},{\"Id\":33,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu\"},{\"Id\":34,\"MenuId\":12,\"Method\":\"GET\",\"Api\":\"/api/menu_action\"},{\"Id\":35,\"MenuId\":12,\"Method\":\"POST\",\"Api\":\"/api/menu_action\"},{\"Id\":36,\"MenuId\":12,\"Method\":\"DELETE\",\"Api\":\"/api/menu_action/*\"},{\"Id\":37,\"MenuId\":22,\"Method\":\"POST\",\"Api\":\"/upgrade/execute\"},{\"Id\":38,\"MenuId\":11,\"Method\":\"PATCH\",\"Api\":\"/api/admin/offline\"},{\"Id\":39,\"MenuId\":12,\"Method\":\"PATCH\",\"Api\":\"/api/menu/sort\"},{\"Id\":40,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/add\"},{\"Id\":41,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/cron/edit/*\"},{\"Id\":42,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron\"},{\"Id\":43,\"MenuId\":24,\"Method\":\"POST\",\"Api\":\"/api/cron/*\"},{\"Id\":44,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron\"},{\"Id\":45,\"MenuId\":24,\"Method\":\"GET\",\"Api\":\"/api/cron/*\"},{\"Id\":46,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/used\"},{\"Id\":47,\"MenuId\":24,\"Method\":\"PATCH\",\"Api\":\"/api/cron/exec/*\"},{\"Id\":48,\"MenuId\":25,\"Method\":\"POST\",\"Api\":\"/api/tool/send_message\"}]","ttl":1440,"cost_seconds":0.0045065}],"success":true,"cost_seconds":0.0112352}}
{"level":"info","time":"2022-04-04 16:17:42","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0015646,"trace_id":"c350e7d1126bd2be7472","trace_info":{"trace_id":"c350e7d1126bd2be7472","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin Co/OSOxwCS5ITTAGwlVYU+iN4FBr5wCSsTCmtrkF0Uw=","Authorization-Date":"2022-04-04 16:17:42","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c350e7d1126bd2be7472"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0015646},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:17:42","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0010462}],"redis":[{"timestamp":"2022-04-04 16:17:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:17:42","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0015646}}
{"level":"info","time":"2022-04-04 16:50:08","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/config/email","http_code":400,"business_code":10117,"success":false,"cost_seconds":0.6880132,"trace_id":"6e5df929667c6d6543ce","trace_info":{"trace_id":"6e5df929667c6d6543ce","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/config/email","header":{"Authorization":"admin ZRP0psmKRLWw5nUe5zFsPwLqzJfVoPgfmUf7SyXE5Xk=","Authorization-Date":"2022-04-04 16:50:07","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"host=smtp.163.com&port=465&user=admin&pass=admin&to=longping1999%40163.com"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6e5df929667c6d6543ce"],"Vary":["Origin"]},"body":null,"business_code":10117,"business_code_msg":"发送邮件失败550 User has no permission","http_code":400,"http_code_msg":"Bad Request","cost_seconds":0.6880132},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-04 16:50:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:50:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":false,"cost_seconds":0.6880132},"error":"550 User has no permission","errorVerbose":"550 User has no permission\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*businessError).WithError\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/error.go:55\ngithub.com/xinliangnote/go-gin-api/internal/api/config.(*handler).Email.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/api/config/func_email.go:70\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\tD:/codesoftware/go16/src/net/http/server.go:2887\nnet/http.(*conn).serve\n\tD:/codesoftware/go16/src/net/http/server.go:1952\nruntime.goexit\n\tD:/codesoftware/go16/src/runtime/asm_386.s:1315\n"}
{"level":"info","time":"2022-04-04 16:52:10","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0035296,"trace_id":"7c578c4f5e4c54d584e4","trace_info":{"trace_id":"7c578c4f5e4c54d584e4","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin HGOmkr3yNmRv1tN0zECq8Ptkl9kePC65jTRhO9wi88Y=","Authorization-Date":"2022-04-04 16:52:10","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7c578c4f5e4c54d584e4"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0035296},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:52:10","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0008856},{"timestamp":"2022-04-04 16:52:10","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0005273}],"redis":[{"timestamp":"2022-04-04 16:52:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:52:10","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005898}],"success":true,"cost_seconds":0.0035296}}
{"level":"info","time":"2022-04-04 16:52:17","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00216,"trace_id":"f55c69b3152586808793","trace_info":{"trace_id":"f55c69b3152586808793","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Authorization":"admin swpYkqwkcrp5kHzJcaJ5IBpf1XxdQYk1Qh8sM2mQjjg=","Authorization-Date":"2022-04-04 16:52:17","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f55c69b3152586808793"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"管理员","remark":"管理面板调用","is_used":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00216},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:52:17","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/authorized/gen_authorized.go:108","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0011724},{"timestamp":"2022-04-04 16:52:17","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/authorized/gen_authorized.go:81","sql":"SELECT count(*) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0002581}],"redis":[{"timestamp":"2022-04-04 16:52:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:52:17","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.00216}}
{"level":"info","time":"2022-04-04 16:52:35","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/cron?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0094513,"trace_id":"1535e6b626f1a096b80c","trace_info":{"trace_id":"1535e6b626f1a096b80c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/cron?page=1&page_size=10","header":{"Authorization":"admin zKET9bMuvGJKrOa+h2V2MXBlX63pDTlb6fLq0YjeHhI=","Authorization-Date":"2022-04-04 16:52:35","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1535e6b626f1a096b80c"],"Vary":["Origin"]},"body":{"list":[],"pagination":{"total":0,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0094513},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:52:35","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/cron_task/gen_cron_task.go:108","sql":"SELECT * FROM `cron_task` ORDER BY id DESC LIMIT 10","rows_affected":0,"cost_seconds":0.0005101},{"timestamp":"2022-04-04 16:52:35","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/cron_task/gen_cron_task.go:81","sql":"SELECT count(*) FROM `cron_task` ","rows_affected":1,"cost_seconds":0.0074883}],"redis":[{"timestamp":"2022-04-04 16:52:35","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:52:35","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0094513}}
{"level":"info","time":"2022-04-04 16:52:49","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0030801,"trace_id":"9d4d25e6a19311bf96ab","trace_info":{"trace_id":"9d4d25e6a19311bf96ab","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 2sRNSAVvuQ2w1NETsMK8SbZsos0KMYjO3QTpKrhO/bQ=","Authorization-Date":"2022-04-04 16:52:49","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9d4d25e6a19311bf96ab"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0030801},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:52:49","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0010434},{"timestamp":"2022-04-04 16:52:49","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.000598}],"redis":[{"timestamp":"2022-04-04 16:52:49","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:52:49","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0030801}}
{"level":"info","time":"2022-04-04 16:52:52","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0017515,"trace_id":"05f112cb82c9add60f8a","trace_info":{"trace_id":"05f112cb82c9add60f8a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin VWAaYkS5N9WfdHaFc2EChmn2bHI14HKpuhBYZ8fDiyI=","Authorization-Date":"2022-04-04 16:52:52","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["05f112cb82c9add60f8a"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0017515},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:52:52","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.001076}],"redis":[{"timestamp":"2022-04-04 16:52:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:52:52","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005364}],"success":true,"cost_seconds":0.0017515}}
{"level":"info","time":"2022-04-04 16:53:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/cache/search","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0017714,"trace_id":"6a60dd52668e66ac70d6","trace_info":{"trace_id":"6a60dd52668e66ac70d6","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/cache/search","header":{"Authorization":"admin TDINiCr6rcMhHS6U3czIMDD5vYNkzAPEz5e1tkhhAOo=","Authorization-Date":"2022-04-04 16:53:07","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"redis_key=lp"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6a60dd52668e66ac70d6"],"Vary":["Origin"]},"body":{"val":"longping","ttl":"-1ns"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0017714},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-04 16:53:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:53:07","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005487},{"timestamp":"2022-04-04 16:53:07","handle":"get","key":"lp","cost_seconds":0}],"success":true,"cost_seconds":0.0017714}}
{"level":"info","time":"2022-04-04 16:53:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/tool/data/dbs","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001874,"trace_id":"8ab7ddeb305da65ea9bd","trace_info":{"trace_id":"8ab7ddeb305da65ea9bd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/tool/data/dbs","header":{"Authorization":"admin hqC8z1CDll/DUEkeFCV+EFPrW98md3+JazBXb6OjdSQ=","Authorization-Date":"2022-04-04 16:53:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8ab7ddeb305da65ea9bd"],"Vary":["Origin"]},"body":{"list":[{"db_name":"go_gin_api"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001874},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-04 16:53:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:53:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.001874}}
{"level":"info","time":"2022-04-04 16:53:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/tables","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0029946,"trace_id":"12cedb497d23cb8c1033","trace_info":{"trace_id":"12cedb497d23cb8c1033","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/tables","header":{"Authorization":"admin OsmuUc6mTHYqknC2+EyIRBAYCtW73HEOSk7L9Ee0VTY=","Authorization-Date":"2022-04-04 16:53:14","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=go_gin_api"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["12cedb497d23cb8c1033"],"Vary":["Origin"]},"body":{"list":[{"table_name":"admin","table_comment":"管理员表"},{"table_name":"admin_menu","table_comment":"管理员菜单栏表"},{"table_name":"authorized","table_comment":"已授权的调用方表"},{"table_name":"authorized_api","table_comment":"已授权接口地址表"},{"table_name":"cron_task","table_comment":"后台任务表"},{"table_name":"menu","table_comment":"左侧菜单栏表"},{"table_name":"menu_action","table_comment":"功能权限表"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0029946},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-04 16:53:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:53:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005042}],"success":true,"cost_seconds":0.0029946}}
{"level":"info","time":"2022-04-04 16:53:21","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/data/mysql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0024535,"trace_id":"6f929d832ebecaf1b54e","trace_info":{"trace_id":"6f929d832ebecaf1b54e","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/data/mysql","header":{"Authorization":"admin e4VWcooF+eeZ6tiwHxerENbZy1kjQw0upb6EDcrI0OU=","Authorization-Date":"2022-04-04 16:53:21","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"db_name=go_gin_api&table_name=admin&sql=SELECT+*+FROM+%60admin%60+ORDER+BY+1+DESC"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6f929d832ebecaf1b54e"],"Vary":["Origin"]},"body":{"cols":["id","username","password","nickname","mobile","is_used","is_deleted","created_at","created_user","updated_at","updated_user"],"cols_info":[{"column_name":"id","column_comment":"主键"},{"column_name":"username","column_comment":"用户名"},{"column_name":"password","column_comment":"密码"},{"column_name":"nickname","column_comment":"昵称"},{"column_name":"mobile","column_comment":"手机号"},{"column_name":"is_used","column_comment":"是否启用 1:是  -1:否"},{"column_name":"is_deleted","column_comment":"是否删除 1:是  -1:否"},{"column_name":"created_at","column_comment":"创建时间"},{"column_name":"created_user","column_comment":"创建人"},{"column_name":"updated_at","column_comment":"更新时间"},{"column_name":"updated_user","column_comment":"更新人"}],"list":[{"created_at":"2022-04-04 16:13:51 +0800 CST","created_user":"init","id":"1","is_deleted":"-1","is_used":"1","mobile":"13888888888","nickname":"管理员","password":"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0","updated_at":"2022-04-04 16:13:51 +0800 CST","updated_user":"","username":"admin"}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0024535},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-04 16:53:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:53:21","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0000222}],"success":true,"cost_seconds":0.0024535}}
{"level":"info","time":"2022-04-04 16:53:55","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/graphql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0007218,"trace_id":"35b497d8a73f2b80dea1","trace_info":{"trace_id":"35b497d8a73f2b80dea1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/graphql","header":{"Authorization":"","Authorization-Date":"","Content-Type":"","Token":""},"body":""},"response":{"header":{"Content-Type":["text/html"],"Trace-Id":["35b497d8a73f2b80dea1"],"Vary":["Origin"]},"body":null,"http_code":200,"http_code_msg":"OK","cost_seconds":0.0007218},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.0007218}}
{"level":"info","time":"2022-04-04 16:53:57","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0014201,"trace_id":"2a24e7eb3c6d26aa969b","trace_info":{"trace_id":"2a24e7eb3c6d26aa969b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Authorization":"","Authorization-Date":"","Content-Type":"application/json","Token":""},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Trace-Id":["2a24e7eb3c6d26aa969b"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]},{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]}]}},"extensions":{"trace_id":"2a24e7eb3c6d26aa969b"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0014201},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":true,"cost_seconds":0.0014201}}
{"level":"info","time":"2022-04-04 16:54:12","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/tool/send_message","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0029803,"trace_id":"8e03dc55fd2d87e448a3","trace_info":{"trace_id":"8e03dc55fd2d87e448a3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/tool/send_message","header":{"Authorization":"admin 3k7xzNlt2/ZU8D0MtOSqQWHIUYcO6B7/NDFtV+zCZZs=","Authorization-Date":"2022-04-04 16:54:12","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"message=lp"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8e03dc55fd2d87e448a3"],"Vary":["Origin"]},"body":{"status":"OK"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0029803},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2022-04-04 16:54:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0005066},{"timestamp":"2022-04-04 16:54:12","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005392}],"success":true,"cost_seconds":0.0029803}}
{"level":"error","time":"2022-04-04 16:54:21","caller":"socket/socket_on_message.go:14","msg":"socket on message error","domain":"go-gin-api[fat]","error":"websocket: close 1001 (going away)"}
{"level":"error","time":"2022-04-04 16:54:36","caller":"socket/socket_on_message.go:14","msg":"socket on message error","domain":"go-gin-api[fat]","error":"websocket: close 1001 (going away)"}
{"level":"info","time":"2022-04-04 16:54:36","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0021144,"trace_id":"6db4539362147b14d576","trace_info":{"trace_id":"6db4539362147b14d576","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin lCCSZY+5mcC4qX6ezUJbGdtAeHA79ARbieN3tNvTiv8=","Authorization-Date":"2022-04-04 16:54:36","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6db4539362147b14d576"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0021144},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:54:36","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.001063}],"redis":[{"timestamp":"2022-04-04 16:54:36","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0005232},{"timestamp":"2022-04-04 16:54:36","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0005282}],"success":true,"cost_seconds":0.0021144}}
{"level":"info","time":"2022-04-04 16:55:50","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0041332,"trace_id":"0225f8fbf16bc87268f8","trace_info":{"trace_id":"0225f8fbf16bc87268f8","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin TdzvmaccleWBZE1LqwvhZjndVU5SL6UbS1o+2Kiai5Q=","Authorization-Date":"2022-04-04 16:55:50","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0225f8fbf16bc87268f8"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":1,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0041332},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:55:50","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.0007106},{"timestamp":"2022-04-04 16:55:50","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0006522}],"redis":[{"timestamp":"2022-04-04 16:55:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0005141},{"timestamp":"2022-04-04 16:55:50","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0041332}}
{"level":"info","time":"2022-04-04 16:56:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0057269,"trace_id":"67fdf6fa77fc4be85d0c","trace_info":{"trace_id":"67fdf6fa77fc4be85d0c","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin","header":{"Authorization":"admin OmJkWx2OB8UU80h8gHsli93c8y3eS65hUHhCS954BPk=","Authorization-Date":"2022-04-04 16:56:14","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"username=lp&nickname=longping&mobile=15874437219&password=e10adc3949ba59abbe56e057f20f883e"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["67fdf6fa77fc4be85d0c"],"Vary":["Origin"]},"body":{"id":2},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0057269},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:14","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:27","sql":"INSERT INTO `admin` (`username`,`password`,`nickname`,`mobile`,`is_used`,`is_deleted`,`created_at`,`created_user`,`updated_at`,`updated_user`) VALUES ('lp','5b37b751fd3ccee62d95da9b9ed9e08a850e9833d6c2b4110f99daa9219dcff0','longping','15874437219',1,-1,'2022-04-04 16:56:14.511','admin','2022-04-04 16:56:14.511','')","rows_affected":1,"cost_seconds":0.0034345}],"redis":[{"timestamp":"2022-04-04 16:56:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:14","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0057269}}
{"level":"info","time":"2022-04-04 16:56:16","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0030087,"trace_id":"8e7686be4073f5020e02","trace_info":{"trace_id":"8e7686be4073f5020e02","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 99EENBeYbESAamlWy9fiRfgi7ibQNNg2EQ+cb0ztQtI=","Authorization-Date":"2022-04-04 16:56:16","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8e7686be4073f5020e02"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","username":"lp","nickname":"longping","mobile":"15874437219","is_used":1,"is_online":-1,"created_at":"2022-04-04 16:56:15","created_user":"admin","updated_at":"2022-04-04 16:56:15","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0030087},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:16","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0009998},{"timestamp":"2022-04-04 16:56:16","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0}],"redis":[{"timestamp":"2022-04-04 16:56:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0010002},{"timestamp":"2022-04-04 16:56:16","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0030087}}
{"level":"info","time":"2022-04-04 16:56:23","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/menu/yZ5V1jp6OoWr","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0033349,"trace_id":"20f5ac460175fa45157b","trace_info":{"trace_id":"20f5ac460175fa45157b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/menu/yZ5V1jp6OoWr","header":{"Authorization":"admin DXGWZcGDrFvLHEbqihr81VLFroUVcrXK2TH+3k7FEmM=","Authorization-Date":"2022-04-04 16:56:23","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["20f5ac460175fa45157b"],"Vary":["Origin"]},"body":{"list":[{"id":1,"pid":0,"name":"配置信息","is_have":0},{"id":4,"pid":0,"name":"代码生成器","is_have":0},{"id":7,"pid":0,"name":"授权调用方","is_have":0},{"id":23,"pid":0,"name":"后台任务","is_have":0},{"id":10,"pid":0,"name":"系统管理员","is_have":0},{"id":13,"pid":0,"name":"查询小助手","is_have":0},{"id":16,"pid":0,"name":"实用工具箱","is_have":0},{"id":2,"pid":1,"name":"告警邮箱","is_have":0},{"id":3,"pid":1,"name":"错误码","is_have":0},{"id":5,"pid":4,"name":"生成数据表 CURD","is_have":0},{"id":6,"pid":4,"name":"生成控制器方法","is_have":0},{"id":8,"pid":7,"name":"调用方","is_have":0},{"id":9,"pid":7,"name":"使用说明","is_have":0},{"id":24,"pid":23,"name":"任务列表","is_have":0},{"id":11,"pid":10,"name":"管理员","is_have":0},{"id":12,"pid":10,"name":"菜单管理","is_have":0},{"id":14,"pid":13,"name":"查询缓存","is_have":0},{"id":15,"pid":13,"name":"查询数据","is_have":0},{"id":22,"pid":16,"name":"服务升级","is_have":0},{"id":17,"pid":16,"name":"Hashids","is_have":0},{"id":18,"pid":16,"name":"调用日志","is_have":0},{"id":19,"pid":16,"name":"接口文档","is_have":0},{"id":20,"pid":16,"name":"GraphQL","is_have":0},{"id":21,"pid":16,"name":"接口指标","is_have":0},{"id":25,"pid":16,"name":"WebSocket","is_have":0}],"username":"lp"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0033349},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:23","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 2 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0005646},{"timestamp":"2022-04-04 16:56:23","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0005393},{"timestamp":"2022-04-04 16:56:23","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:108","sql":"SELECT * FROM `admin_menu` WHERE admin_id = 2 ORDER BY id DESC ","rows_affected":0,"cost_seconds":0.0005219}],"redis":[{"timestamp":"2022-04-04 16:56:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:23","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005512}],"success":true,"cost_seconds":0.0033349}}
{"level":"info","time":"2022-04-04 16:56:28","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"POST","path":"/api/admin/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0520877,"trace_id":"436679f7877548de66cd","trace_info":{"trace_id":"436679f7877548de66cd","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/menu","header":{"Authorization":"admin 5p6OEpWgrv0IttIJJtquKESfih1lgSp09UuvKukNnaI=","Authorization-Date":"2022-04-04 16:56:28","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=yZ5V1jp6OoWr&actions=1%2C2%2C3%2C4%2C5%2C6%2C7%2C8%2C9%2C23%2C24%2C10%2C11%2C12%2C13%2C14%2C15%2C16%2C22%2C17%2C18%2C19%2C20%2C21%2C25"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["436679f7877548de66cd"],"Vary":["Origin"]},"body":{"id":2},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0520877},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:73","sql":"DELETE FROM `admin_menu` WHERE admin_id = 2","rows_affected":0,"cost_seconds":0.0012997},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,1,'2022-04-04 16:56:28.882','admin')","rows_affected":1,"cost_seconds":0.0018658},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,2,'2022-04-04 16:56:28.884','admin')","rows_affected":1,"cost_seconds":0.002388},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,3,'2022-04-04 16:56:28.887','admin')","rows_affected":1,"cost_seconds":0.0011946},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,4,'2022-04-04 16:56:28.889','admin')","rows_affected":1,"cost_seconds":0.0010788},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,5,'2022-04-04 16:56:28.891','admin')","rows_affected":1,"cost_seconds":0.0010688},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,6,'2022-04-04 16:56:28.893','admin')","rows_affected":1,"cost_seconds":0.001578},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,7,'2022-04-04 16:56:28.895','admin')","rows_affected":1,"cost_seconds":0.0017773},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,8,'2022-04-04 16:56:28.897','admin')","rows_affected":1,"cost_seconds":0.0015047},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,9,'2022-04-04 16:56:28.899','admin')","rows_affected":1,"cost_seconds":0.0020265},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,23,'2022-04-04 16:56:28.901','admin')","rows_affected":1,"cost_seconds":0.0022694},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,24,'2022-04-04 16:56:28.904','admin')","rows_affected":1,"cost_seconds":0.001436},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,10,'2022-04-04 16:56:28.905','admin')","rows_affected":1,"cost_seconds":0.0014737},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,11,'2022-04-04 16:56:28.907','admin')","rows_affected":1,"cost_seconds":0.0015268},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,12,'2022-04-04 16:56:28.909','admin')","rows_affected":1,"cost_seconds":0.0014996},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,13,'2022-04-04 16:56:28.91','admin')","rows_affected":1,"cost_seconds":0.0014041},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,14,'2022-04-04 16:56:28.912','admin')","rows_affected":1,"cost_seconds":0.001487},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,15,'2022-04-04 16:56:28.914','admin')","rows_affected":1,"cost_seconds":0.001126},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,16,'2022-04-04 16:56:28.915','admin')","rows_affected":1,"cost_seconds":0.0025005},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,22,'2022-04-04 16:56:28.918','admin')","rows_affected":1,"cost_seconds":0.0011024},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,17,'2022-04-04 16:56:28.92','admin')","rows_affected":1,"cost_seconds":0.0010219},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,18,'2022-04-04 16:56:28.922','admin')","rows_affected":1,"cost_seconds":0.0015162},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,19,'2022-04-04 16:56:28.923','admin')","rows_affected":1,"cost_seconds":0.0016084},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,20,'2022-04-04 16:56:28.925','admin')","rows_affected":1,"cost_seconds":0.0015409},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,21,'2022-04-04 16:56:28.927','admin')","rows_affected":1,"cost_seconds":0.0015519},{"timestamp":"2022-04-04 16:56:28","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin_menu/gen_admin_menu.go:27","sql":"INSERT INTO `admin_menu` (`admin_id`,`menu_id`,`created_at`,`created_user`) VALUES (2,25,'2022-04-04 16:56:28.929','admin')","rows_affected":1,"cost_seconds":0.0014965}],"redis":[{"timestamp":"2022-04-04 16:56:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:28","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005203}],"success":true,"cost_seconds":0.0520877}}
{"level":"info","time":"2022-04-04 16:56:30","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0032293,"trace_id":"66a5c410ab147bacb431","trace_info":{"trace_id":"66a5c410ab147bacb431","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin 8DT9i/xatXT/Ec0jlDpsG3uE71ccyL1ynyD5h/qlgLk=","Authorization-Date":"2022-04-04 16:56:30","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["66a5c410ab147bacb431"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","username":"lp","nickname":"longping","mobile":"15874437219","is_used":1,"is_online":-1,"created_at":"2022-04-04 16:56:15","created_user":"admin","updated_at":"2022-04-04 16:56:15","updated_user":""},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0032293},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:30","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0005755},{"timestamp":"2022-04-04 16:56:30","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0005756}],"redis":[{"timestamp":"2022-04-04 16:56:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:30","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005293}],"success":true,"cost_seconds":0.0032293}}
{"level":"info","time":"2022-04-04 16:56:38","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/admin/used","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0116765,"trace_id":"b0f006e5375ee1b7e960","trace_info":{"trace_id":"b0f006e5375ee1b7e960","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/admin/used","header":{"Authorization":"admin G7MYtlPRjuarqgZWceocMbiGzD5iGWIZD8v235WBP/8=","Authorization-Date":"2022-04-04 16:56:38","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"id=yZ5V1jp6OoWr&used=-1"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b0f006e5375ee1b7e960"],"Vary":["Origin"]},"body":{"id":2},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0116765},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:38","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:62","sql":"UPDATE `admin` SET `is_used`=-1,`updated_user`='admin',`updated_at`='2022-04-04 16:56:38.228' WHERE id = 2","rows_affected":1,"cost_seconds":0.0091588}],"redis":[{"timestamp":"2022-04-04 16:56:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:38","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0002447},{"timestamp":"2022-04-04 16:56:38","handle":"del","key":"go-gin-api:login-user:04588a57185fa48a6c061ed07e6968e7","cost_seconds":0.000969}],"success":true,"cost_seconds":0.0116765}}
{"level":"info","time":"2022-04-04 16:56:39","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0028959,"trace_id":"af85148c103a00d1df10","trace_info":{"trace_id":"af85148c103a00d1df10","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin QAy0Jk8SXcKrHBtLWxMAkjCxDdAz+aeyuUqbcQ/61fc=","Authorization-Date":"2022-04-04 16:56:39","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["af85148c103a00d1df10"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","username":"lp","nickname":"longping","mobile":"15874437219","is_used":-1,"is_online":-1,"created_at":"2022-04-04 16:56:15","created_user":"admin","updated_at":"2022-04-04 16:56:38","updated_user":"admin"},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"13888888888","is_used":1,"is_online":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:13:51","updated_user":""}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0028959},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:39","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0005434},{"timestamp":"2022-04-04 16:56:39","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0006141}],"redis":[{"timestamp":"2022-04-04 16:56:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:39","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.0028959}}
{"level":"info","time":"2022-04-04 16:56:43","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0020304,"trace_id":"04006154c483924eb6bd","trace_info":{"trace_id":"04006154c483924eb6bd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin sunhh6faDtwu3P+oBWkUKWBMlQWcrL+dBa9Ja1/sZf8=","Authorization-Date":"2022-04-04 16:56:43","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["04006154c483924eb6bd"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"13888888888","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0020304},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:43","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0007904}],"redis":[{"timestamp":"2022-04-04 16:56:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:43","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0005107}],"success":true,"cost_seconds":0.0020304}}
{"level":"info","time":"2022-04-04 16:56:54","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/admin/modify_personal_info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0031744,"trace_id":"97113f054c0b46fda6bd","trace_info":{"trace_id":"97113f054c0b46fda6bd","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/admin/modify_personal_info","header":{"Authorization":"admin LJkfWh15wnxOif5gEo4g6W4xZMjezv3HPsQG5lIj+Uc=","Authorization-Date":"2022-04-04 16:56:54","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":"nickname=%E7%AE%A1%E7%90%86%E5%91%98&mobile=15874437219"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["97113f054c0b46fda6bd"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0031744},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:54","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:62","sql":"UPDATE `admin` SET `mobile`='15874437219',`nickname`='管理员',`updated_user`='admin',`updated_at`='2022-04-04 16:56:54.477' WHERE id = 1","rows_affected":1,"cost_seconds":0.0021721}],"redis":[{"timestamp":"2022-04-04 16:56:54","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0}],"success":true,"cost_seconds":0.0031744}}
{"level":"info","time":"2022-04-04 16:56:56","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0021327,"trace_id":"17d34e637d1837aab413","trace_info":{"trace_id":"17d34e637d1837aab413","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin gGR35c40wApKMNZB1lUmtw6xz228R7d/rUxNpF9t7Wk=","Authorization-Date":"2022-04-04 16:56:56","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["17d34e637d1837aab413"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"15874437219","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0021327},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:56","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0012367}],"redis":[{"timestamp":"2022-04-04 16:56:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:56","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0}],"success":true,"cost_seconds":0.0021327}}
{"level":"info","time":"2022-04-04 16:56:59","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.003483,"trace_id":"959ee0781a6ce821d5d1","trace_info":{"trace_id":"959ee0781a6ce821d5d1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Authorization":"admin GyyG89T/suaAYiVWp5YfAwNgn3r6vv807fJ5v0PLFiQ=","Authorization-Date":"2022-04-04 16:56:59","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["959ee0781a6ce821d5d1"],"Vary":["Origin"]},"body":{"list":[{"id":2,"hashid":"yZ5V1jp6OoWr","username":"lp","nickname":"longping","mobile":"15874437219","is_used":-1,"is_online":-1,"created_at":"2022-04-04 16:56:15","created_user":"admin","updated_at":"2022-04-04 16:56:38","updated_user":"admin"},{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"管理员","mobile":"15874437219","is_used":1,"is_online":1,"created_at":"2022-04-04 16:13:51","created_user":"init","updated_at":"2022-04-04 16:56:54","updated_user":"admin"}],"pagination":{"total":2,"current_page":1,"per_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003483},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:56:59","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":2,"cost_seconds":0.0012859},{"timestamp":"2022-04-04 16:56:59","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:81","sql":"SELECT count(*) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.0007096}],"redis":[{"timestamp":"2022-04-04 16:56:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:56:59","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0}],"success":true,"cost_seconds":0.003483}}
{"level":"info","time":"2022-04-04 16:57:00","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/menu","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0026518,"trace_id":"cb50d964c71807b362d6","trace_info":{"trace_id":"cb50d964c71807b362d6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/menu","header":{"Authorization":"admin 4TGDQCN0vgpZXTQrKIXMzDiX40NKhwkQQJcVVd6HAwo=","Authorization-Date":"2022-04-04 16:57:00","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["cb50d964c71807b362d6"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box","is_used":1,"sort":10},{"id":4,"hashid":"pDkj6BJ674lJ","pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant","is_used":1,"sort":20},{"id":7,"hashid":"PbGW1e369RMm","pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check","is_used":1,"sort":30},{"id":23,"hashid":"MWKd6K91vNql","pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer","is_used":1,"sort":40},{"id":10,"hashid":"APqnwOQEJZKd","pid":0,"name":"系统管理员","link":"","icon":"mdi-account","is_used":1,"sort":50},{"id":13,"hashid":"35XzEnK1Zn0j","pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search","is_used":1,"sort":60},{"id":16,"hashid":"ZYJVwQp1rlm5","pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools","is_used":1,"sort":70},{"id":2,"hashid":"yZ5V1jp6OoWr","pid":1,"name":"告警邮箱","link":"/config/email","icon":"","is_used":1,"sort":101},{"id":3,"hashid":"JRzOELW6M82Z","pid":1,"name":"错误码","link":"/config/code","icon":"","is_used":1,"sort":102},{"id":5,"hashid":"ly0Q6Yxwvrm8","pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":"","is_used":1,"sort":201},{"id":6,"hashid":"VPLD1bmEq28Z","pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":"","is_used":1,"sort":202},{"id":8,"hashid":"Am4g1XN6RGb8","pid":7,"name":"调用方","link":"/authorized/list","icon":"","is_used":1,"sort":301},{"id":9,"hashid":"eqJzE2zEk7Zr","pid":7,"name":"使用说明","link":"/authorized/demo","icon":"","is_used":1,"sort":302},{"id":24,"hashid":"LqmpEgKE5jaJ","pid":23,"name":"任务列表","link":"/cron/list","icon":"","is_used":1,"sort":401},{"id":11,"hashid":"ABa26kNw4oYz","pid":10,"name":"管理员","link":"/admin/list","icon":"","is_used":1,"sort":501},{"id":12,"hashid":"gOJz18WEZq0N","pid":10,"name":"菜单管理","link":"/admin/menu","icon":"","is_used":1,"sort":502},{"id":14,"hashid":"25gW6Dl6DkBb","pid":13,"name":"查询缓存","link":"/tool/cache","icon":"","is_used":1,"sort":601},{"id":15,"hashid":"XWxLwR91yB2e","pid":13,"name":"查询数据","link":"/tool/data","icon":"","is_used":1,"sort":602},{"id":22,"hashid":"XDAa64qEpylB","pid":16,"name":"服务升级","link":"/upgrade","icon":"","is_used":1,"sort":701},{"id":17,"hashid":"dZRo6yJEOJK3","pid":16,"name":"Hashids","link":"/tool/hashids","icon":"","is_used":1,"sort":702},{"id":18,"hashid":"K5ko1Ngwq9g0","pid":16,"name":"调用日志","link":"/tool/logs","icon":"","is_used":1,"sort":703},{"id":19,"hashid":"A20NEdK69Dk8","pid":16,"name":"接口文档","link":"/swagger/index.html","icon":"","is_used":1,"sort":704},{"id":20,"hashid":"VJMGw9413ez0","pid":16,"name":"GraphQL","link":"/graphql","icon":"","is_used":1,"sort":705},{"id":21,"hashid":"YXoJ65y6xlbR","pid":16,"name":"接口指标","link":"/metrics","icon":"","is_used":1,"sort":706},{"id":25,"hashid":"PY7jEJXwyMnb","pid":16,"name":"WebSocket","link":"/tool/websocket","icon":"","is_used":1,"sort":707}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0026518},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 16:57:00","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/menu/gen_menu.go:108","sql":"SELECT * FROM `menu` WHERE is_deleted = -1 ORDER BY sort ASC ","rows_affected":25,"cost_seconds":0.0013262}],"redis":[{"timestamp":"2022-04-04 16:57:00","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0},{"timestamp":"2022-04-04 16:57:00","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:action","cost_seconds":0.0005101}],"success":true,"cost_seconds":0.0026518}}
{"level":"info","time":"2022-04-04 17:37:51","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.0069583,"trace_id":"fdfcbb31626f7d524cb1","trace_info":{"trace_id":"fdfcbb31626f7d524cb1","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin NL0aogwhdqFUi75S8bodLUnsdrWjuGUHyOv3HXvD/bw=","Authorization-Date":"2022-04-04 17:37:51","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":"1ba4686338ee7354395ad13f7d3466c1"},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["fdfcbb31626f7d524cb1"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"管理员","mobile":"15874437219","menu":[{"id":1,"pid":0,"name":"配置信息","link":"","icon":"mdi-settings-box"},{"id":4,"pid":0,"name":"代码生成器","link":"","icon":"mdi-code-not-equal-variant"},{"id":7,"pid":0,"name":"授权调用方","link":"","icon":"mdi-playlist-check"},{"id":23,"pid":0,"name":"后台任务","link":"","icon":"mdi-av-timer"},{"id":10,"pid":0,"name":"系统管理员","link":"","icon":"mdi-account"},{"id":13,"pid":0,"name":"查询小助手","link":"","icon":"mdi-database-search"},{"id":16,"pid":0,"name":"实用工具箱","link":"","icon":"mdi-tools"},{"id":2,"pid":1,"name":"告警邮箱","link":"/config/email","icon":""},{"id":3,"pid":1,"name":"错误码","link":"/config/code","icon":""},{"id":5,"pid":4,"name":"生成数据表 CURD","link":"/generator/gorm","icon":""},{"id":6,"pid":4,"name":"生成控制器方法","link":"/generator/handler","icon":""},{"id":8,"pid":7,"name":"调用方","link":"/authorized/list","icon":""},{"id":9,"pid":7,"name":"使用说明","link":"/authorized/demo","icon":""},{"id":24,"pid":23,"name":"任务列表","link":"/cron/list","icon":""},{"id":11,"pid":10,"name":"管理员","link":"/admin/list","icon":""},{"id":12,"pid":10,"name":"菜单管理","link":"/admin/menu","icon":""},{"id":14,"pid":13,"name":"查询缓存","link":"/tool/cache","icon":""},{"id":15,"pid":13,"name":"查询数据","link":"/tool/data","icon":""},{"id":22,"pid":16,"name":"服务升级","link":"/upgrade","icon":""},{"id":17,"pid":16,"name":"Hashids","link":"/tool/hashids","icon":""},{"id":18,"pid":16,"name":"调用日志","link":"/tool/logs","icon":""},{"id":19,"pid":16,"name":"接口文档","link":"/swagger/index.html","icon":""},{"id":20,"pid":16,"name":"GraphQL","link":"/graphql","icon":""},{"id":21,"pid":16,"name":"接口指标","link":"/metrics","icon":""},{"id":25,"pid":16,"name":"WebSocket","link":"/tool/websocket","icon":""}]},"http_code":200,"http_code_msg":"OK","cost_seconds":0.0069583},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2022-04-04 17:37:51","stack":"D:/桌面/项目/开源项目/go-gin-api/internal/repository/mysql/admin/gen_admin.go:108","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.0053221}],"redis":[{"timestamp":"2022-04-04 17:37:51","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.0005319},{"timestamp":"2022-04-04 17:37:51","handle":"get","key":"go-gin-api:login-user:1ba4686338ee7354395ad13f7d3466c1:menu","cost_seconds":0.0000329}],"success":true,"cost_seconds":0.0069583}}
{"level":"info","time":"2022-04-06 22:48:08","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0,"trace_id":"153725ba0e2b091a05f3","trace_info":{"trace_id":"153725ba0e2b091a05f3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin lNidYJMWJbQPFyGX5Vo77BV8vJ7HJ3vqsnvlD448H4g=","Authorization-Date":"2022-04-06 22:48:08","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["153725ba0e2b091a05f3"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/桌面/项目/开源项目/go-gin-api/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\tD:/codesoftware/go16/src/net/http/server.go:2887\nnet/http.(*conn).serve\n\tD:/codesoftware/go16/src/net/http/server.go:1952\nruntime.goexit\n\tD:/codesoftware/go16/src/runtime/asm_386.s:1315\n"}
{"level":"info","time":"2022-04-06 22:50:07","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0009581,"trace_id":"9bd08d3d5f75e6483eb5","trace_info":{"trace_id":"9bd08d3d5f75e6483eb5","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin FWJR8wWlmsZ9b3aRkLrHf+RECkvCfr66s4upuJx5Ues=","Authorization-Date":"2022-04-06 22:50:07","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["9bd08d3d5f75e6483eb5"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0009581},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0009581},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/桌面/项目/开源项目/go-gin-api/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\tD:/codesoftware/go16/src/net/http/server.go:2887\nnet/http.(*conn).serve\n\tD:/codesoftware/go16/src/net/http/server.go:1952\nruntime.goexit\n\tD:/codesoftware/go16/src/runtime/asm_386.s:1315\n"}
{"level":"info","time":"2022-04-06 22:52:14","caller":"core/core.go:509","msg":"trace-log","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.0005242,"trace_id":"ff65279665767b1d907a","trace_info":{"trace_id":"ff65279665767b1d907a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Authorization":"admin wlSnul2We3bIdXrLs1a3REaRLIXMMUJ954fGRyMAMxM=","Authorization-Date":"2022-04-06 22:52:14","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","Token":""},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["ff65279665767b1d907a"],"Vary":["Origin"]},"body":null,"business_code":10104,"business_code_msg":"签名信息错误","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.0005242},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"success":false,"cost_seconds":0.0005242},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/interceptor.(*interceptor).CheckLogin\n\tD:/桌面/项目/开源项目/go-gin-api/internal/router/interceptor/check_login.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:133\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:212\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:541\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:523\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:327\ngithub.com/gin-gonic/gin.(*Context).Next\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/context.go:165\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:489\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tD:/codesoftware/goworkerhome/pkg/mod/github.com/gin-gonic/gin@v1.7.4/gin.go:445\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\tD:/桌面/项目/开源项目/go-gin-api/internal/pkg/core/core.go:232\nnet/http.serverHandler.ServeHTTP\n\tD:/codesoftware/go16/src/net/http/server.go:2887\nnet/http.(*conn).serve\n\tD:/codesoftware/go16/src/net/http/server.go:1952\nruntime.goexit\n\tD:/codesoftware/go16/src/runtime/asm_386.s:1315\n"}
